{"code":"!function(t){var a={};function e(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=a,e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&a&&\"string\"!=typeof t)for(var i in t)e.d(r,i,function(a){return t[a]}.bind(null,i));return r},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,\"a\",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p=\"/\",e(e.s=27)}({27:function(t,a,e){t.exports=e(\"Ba//\")},\"Ba//\":function(t,a){function e(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];$('[data-row-id=\"'.concat(t,'\"] .stairsCell')).toggleClass(\"active\",a)}$.game(\"stairs\",(function(t,a){var r=$('<div class=\"stairsColumns\"></div>'),i=$('<div class=\"stairsContainer\"></div>'),n=0;if(_.forEach([[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0]],(function(t){var a=$('<div class=\"stairsRow\" data-row-id=\"'.concat(n,'\"></div>'));n++;var e=0;_.forEach(t,(function(t){a.append(\"<div \".concat(0===t?\"\":'data-cell-id=\"'.concat(e,'\"'),' class=\"stairsCell ').concat(0===t?\"stairsInvisible\":\"stairsVisible\",'\"></div>')),1===t&&e++})),i.prepend(a)})),$.isOverview(a)||i.append('<div class=\"character stand\"></div>'),$.isOverview(a)||r.append('<div class=\"stairsMultipliers\"></div>'),r.append(i),t.append(r),$(\"[data-cell-id]\").on(\"click\",(function(){if($(this).hasClass(\"active\")){var t=parseInt($(this).parent().attr(\"data-row-id\")),a=parseInt($(this).attr(\"data-cell-id\")),r=$(this);e(t,!1),$.turn({cell:a},(function(i){\"fail\"!==i.type?($(\".character\").attr(\"class\",\"character run\").animate({left:r.position().left},r.position().left===$(\".character\").position().left?0:1e3,(function(){_.forEach(i.data.death,(function(a){!function(t,a){var e=$.randomId(),r=$('<i class=\"fas fa-stairs\" data-transform-id=\"'.concat(e,'\"></i>'));$('[data-row-id=\"'.concat(t,'\"] [data-cell-id=\"').concat(a,'\"]')).append(r),r.hide().css({top:-40}),setTimeout((function(){$('[data-transform-id=\"'.concat(e,'\"]')).show().animate({top:-14},700)}),300)}(t,a)})),$(\".character\").attr(\"class\",\"character climb\").animate({top:$('[data-row-id=\"'.concat(t,'\"] [data-cell-id=\"').concat(a,'\"]')).position().top-$(this).height()},800,(function(){\"finish\"===i.type&&($.finishExtended(!1),$(\".character\").attr(\"class\",\"character victory\"),$.playSound(\"/sounds/win.mp3\"),$.resultPopup(i.game)),\"continue\"===i.type&&(e(t+1,!0),$(\".character\").attr(\"class\",\"character stand\"),$.playSound(\"/sounds/guessed.mp3\")),\"lose\"===i.type&&($.finishExtended(!1),$(\".character\").attr(\"class\",\"character death\"),$.playSound(\"/sounds/lose.mp3\"),$.resultPopup(i.game))}))})),r.addClass(\"selected\"),r.append('<i class=\"fas fa-ladder\" data-ladder></i>')):e(t,!0)}))}})),$(\"[data-cell-id]\").on(\"mouseover\",(function(){$(this).hasClass(\"active\")&&($(\".character\").attr(\"data-flip\",$(this).position().left<$(\".character\").position().left),0===$(this).find(\"i, svg\").length&&$(this).append('<i class=\"fas fa-ladder\" data-ladder></i>'))})),$(\"[data-cell-id]\").on(\"mouseleave\",(function(){$(this).hasClass(\"active\")&&$(this).find(\"i, svg\").remove()})),$.isOverview(a))for(var s=0;s<a.game.data.history.length;s++)t.find('[data-row-id=\"'.concat(s,'\"] [data-cell-id=\"').concat(a.game.data.history[s],'\"]')).addClass(\"selected\");else $.restore((function(t){for(var a=0;a<t.history.length;a++)$('[data-row-id=\"'.concat(a,'\"] [data-cell-id=\"').concat(t.history[a],'\"]')).addClass(\"selected\");if(e(t.history.length),t.history.length>0){var r=$('[data-row-id=\"'.concat(t.history.length-1,'\"] [data-cell-id=\"').concat(t.history[t.history.length-1],'\"]'));$(\".character\").css({top:r.position().top-$(\".character\").height(),left:r.position().left})}}))}),(function(){return{mines:r}}),(function(t){$.isExtendedGameStarted()?($(\"[data-cell-id]\").removeClass(\"selected\").removeClass(\"active\").find(\"svg\").remove(),$(\".character\").fadeOut(\"fast\",(function(){$(this).attr(\"data-flip\",\"false\").attr(\"style\",\"\").attr(\"class\",\"character stand\").fadeIn(\"fast\",(function(){e(0)}))}))):($(\"[data-cell-id]\").removeClass(\"active\"),$(\".character\").attr(\"class\",\"character victory\"),null!=t&&$.resultPopup(t.game))}),(function(t){$.error($.lang(\"general.error.unknown_error\",{code:t}))})),$.on(\"/game/stairs\",(function(){$.render(\"stairs\"),$.sidebar((function(t){t.bet();for(var a=t.buttons($.lang(\"general.mines\")),e=function(t){a.add(t,(function(){r=t,$(\".stairsMultipliers\").html(\"\"),_.forEach($.multipliers()[r],(function(t){$(\".stairsMultipliers\").prepend('<div class=\"multiplier\">'.concat($.abbreviate(t),\"</div>\"))}))}))},i=1;i<=7;i++)e(i);t.play(),t.footer().help().sound().stats()}),(function(){$.sidebarData().currency(($.sidebarData().bet()*$.getPriceCurrency()).toFixed(4))}))}),[\"/css/pages/stairs.css\"]);var r=1}});","extractedComments":[]}